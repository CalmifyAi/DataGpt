<script>
function enter(){
  hero.style.display="none";
  app.style.display="block";
}
function home(){
  app.style.display="none";
  hero.style.display="block";
}

function analyze(){
  halo.style.display="block";
  output.innerHTML=`
    <div class="thinking">
      <span>AI is analyzing</span>
      <div class="dot"></div><div class="dot"></div><div class="dot"></div>
    </div>
  `;

  setTimeout(()=>{
    halo.style.display="none";

    const text=input.value.toLowerCase();
    const hasImage=imageInput.files.length>0;

    /* TOPIC DETECTION */
    let topic="abstract";
    if(/ai|robot|software|code|algorithm|system|technology/.test(text)) topic="technology";
    else if(/brain|human|dna|health|biology|life|cell/.test(text)) topic="biology";
    else if(/space|planet|galaxy|universe|cosmos|star/.test(text)) topic="space";
    else if(/society|culture|economy|power|people|politics/.test(text)) topic="society";
    else if(/art|design|music|creative|aesthetic/.test(text)) topic="art";
    else if(/nature|earth|climate|environment|forest|ocean/.test(text)) topic="nature";

    /* PARAGRAPH GENERATOR */
    const responses = {
      technology: [
        "This subject relates to engineered systems designed to process information, automate decisions, or enhance efficiency. It reflects how modern technology evolves through iteration, optimization, and human-driven intent, often reshaping how people interact with the world.",
        "The topic centers on computational or technological structures that rely on logic, data flow, and system design. Its impact depends on scalability, reliability, and how effectively it integrates with real-world use cases."
      ],
      biology: [
        "This subject appears rooted in biological processes that govern living systems. It reflects adaptation, regulation, and the balance required for survival, shaped by evolution and environmental pressures.",
        "The topic involves organic mechanisms where structure and function are closely linked. Biological systems tend to be resilient yet sensitive, responding dynamically to internal and external changes."
      ],
      space: [
        "This topic connects to large-scale cosmic systems governed by physics and time. It reflects humanityâ€™s attempt to understand vast, interconnected structures that operate far beyond everyday experience.",
        "The subject highlights astronomical processes shaped by gravity, energy, and motion. Meaning often emerges through observation, modeling, and long-term study of patterns across space."
      ],
      society: [
        "This subject reflects collective human behavior shaped by culture, economics, and shared systems of organization. Its outcomes depend on cooperation, conflict, and long-term social dynamics.",
        "The topic centers on how groups structure power, resources, and identity. Social systems evolve as values change and external pressures influence decision-making."
      ],
      art: [
        "This subject relates to creative expression and interpretation. It reflects intentional design choices meant to communicate emotion, meaning, or perspective through form and structure.",
        "The topic emphasizes aesthetics and human creativity, where value is often subjective and shaped by cultural context, experience, and interpretation."
      ],
      nature: [
        "This subject appears connected to natural systems shaped by balance and environmental interaction. It reflects cycles, interdependence, and long-term sustainability.",
        "The topic highlights ecological relationships where change in one element influences many others. Natural systems tend to be adaptive but vulnerable to disruption."
      ],
      abstract: [
        "This subject exists as a conceptual system defined by patterns, relationships, and interpretation. Meaning emerges through context rather than fixed structure.",
        "The topic appears abstract in nature, allowing multiple interpretations depending on perspective, scale, and intent."
      ]
    };

    const paragraph = responses[topic][Math.floor(Math.random()*responses[topic].length)];

    let visionText = "";
    if(hasImage){
      const visionOptions = [
        "The uploaded image shows visual structure, contrast, and focal emphasis, suggesting intentional composition.",
        "The image appears to contain organized visual elements, indicating a subject with contextual or symbolic meaning.",
        "Visual patterns in the image suggest design, environment, or subject focus rather than randomness."
      ];
      visionText = `<p><strong>Vision Analysis:</strong> ${visionOptions[Math.floor(Math.random()*visionOptions.length)]}</p>`;
    }

    output.innerHTML=`
      <h3>AI ANALYSIS COMPLETE</h3>
      <p><strong>Detected Topic:</strong> ${topic.toUpperCase()}</p>
      ${visionText}
      <p>${paragraph}</p>
      <p><strong>Confidence:</strong> ${(87+Math.random()*12).toFixed(1)}%</p>
      <p>Status: <span style="color:#7fffba">COMPLETE</span></p>
    `;
  },1800);
}
</script>
